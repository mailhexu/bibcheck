# Story 1.6 - Enhanced DOI Features & Configurable Validation

## Status
Draft

## Story Statement
As a user, I want enhanced DOI functionality and configurable validation options so that I can easily access DOI links, see detailed corrections, and customize which fields to validate for my specific bibliographic needs.

## Acceptance Criteria
- DOI fields display as clickable links to doi.org
- Corrected fields show detailed before/after differences
- Configurable validation settings for different field types
- User can enable/disable validation for specific fields
- Validation configuration persists across sessions
- Clear visual indicators for corrected vs original values

## Dev Notes

**Previous Story Insights:**
- DOI data validation and conflict resolution implemented
- Real-time UI updates working
- BibTeXEditor displays field values and conflicts

**Data Models:**
- Validation configuration: enabled/disabled fields
- Field correction history: original â†’ corrected with timestamps
- DOI link generation: https://doi.org/{doi}

**Component Specifications:**
- DOI link component: Clickable DOI links
- Diff display: Show character-level differences
- Validation config panel: Checkbox settings for fields
- Field history: Track corrections with metadata

**File Locations:**
- `src/components/features/DOILink/DOILink.tsx`
- `src/components/features/FieldDiff/FieldDiff.tsx`
- `src/components/features/ValidationConfig/ValidationConfig.tsx`
- `src/hooks/useValidationConfig.ts`
- `src/BibTeXEditor/BibTeXEditor.tsx` (enhanced)

**Testing Requirements:**
- Unit tests for DOI link generation
- Integration tests for diff display
- UI tests for validation configuration
- Persistence tests for config settings

**Technical Constraints:**
- DOI links open in new tabs
- Diff display handles long text gracefully
- Config stored in localStorage
- Backward compatible with existing validation

## Tasks / Subtasks

1. Implement clickable DOI links in BibTeXEditor
2. Create field difference display component
3. Add configurable validation settings
4. Implement validation config persistence
5. Update BibTeXEditor to show corrections and links
6. Write unit and integration tests

## Project Structure Notes
All components and files should follow the structure defined in `architecture/source-tree.md`. No conflicts identified.
